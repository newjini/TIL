# 6. 조건부 렌더링
React에서는 원하는 동작을 캡슐화하는 컴포넌트를 만들 수 있다.
→ 이렇게 하면, 애플리케이션의 상태에 따라 컴포넌트 중 몇 개만을 렌더링할 수 있다.

React에서 조건부 렌더링은 JavaScript에서의 조건 처리와 같이 동작한다. `if`나 `조건부 연산자`와 같은 JavaScript 연산자를 현재 상태를 나타내는 엘리먼트를 만드는 데에 사용하면 된다.  
→ 그러면, React는 현재 상태에 맞게 UI를 업데이트할 것이다.

```jsx
function UserGreeting(props) {
	return <h1>Welcome back</h1>;
}

function GuestGreeting(props) {
	return <h1>Please sign up.</h1>;
}
```

두 컴포넌트가 있다고 가정하고, 이제 사용자의 로그인 상태에 맞게 위 컴포넌트 중 하나를 보여주는 `Greeting` 컴포넌트를 만든다.
```jsx
function Greeting(props) {
	const isLoggedIn = props.isLoggedIn;
	if(isLoggedIn) {
		return <UserGreeting />;
	}
	return <GuestGreeting />;
}

ReactDOM.render (
	// Try changing to isLoggedIn={true};
	<Greeting isLoggedIn={false} />,
	document.getElementById('root')
);
```

→ 이 예시는 `isLoggedIn` props에 따라 다른 인사말을 렌더링한다.
### 1. 엘리먼트 변수

엘리먼트를 저장하기 위해 변수를 사용할 수 있다. 출력의 다른 부분은 변하지 않은 채로 컴포넌트의 일부를 조건부로 렌더링할 수 있다.

로그아웃과 로그인 버튼을 나타내는 두 컴포넌트가 있다고 해보자.

```jsx
function LoginButton(props) {
	return (
		<button onClick={props.onClick}>
			Login
		</button>
	);
}
function LogoutButton(props) {
	return (
		<button onClick={props.onClick}>
			Logout
		</button>
	);
}
```

이를 `LoginControl`이라는 `유상태 컴포넌트`를 만들 것이다.

이 컴포넌트는 현재 상태에 맞게 `<LoginButton />`이나 `<LogoutButton />`을 렌더링하고, 이전 예시였던 `<Greeting />`도 함께 렌더링한다.

### 유상태 컴포넌트

```jsx
class LoginControl extends React.Component {
	constructor(props) {
		super(props);
		this.handleLoginClick = this.handleLoginClick.bind(this);
		this.handleLogoutClick = this.handleLogoutClick.bind(this);
		this.state = {isLoggedIn: false};
	}
	handleLoginClick() {
		this.setState({isLoggedIn: true});
	}
	handleLogoutClick() {
		this.setState({isLoggedIn: false});
	}
	render() {
		const isLoggedIn = this.state.isLoggedIn;
		let button;
		if(isLoggedIn){
			button = <LogoutButton onCLick={this.handleLogoutClick} />;
		} else {
			button = <LoginButton onClick={this.handleLoginClick} />;
		}
		return (
			<div>
				<Greeting isLoggedIn={isLoggedIn} />
				{button}
			</div>
		);
	}
}
ReactDOM.render(
	<LoginControl />,
	document.getElementById('root')
);
```

변수를 선언하고 `if`를 사용해서 조건부로 렌더링하는 것은 좋은 방법이지만 더 짧은 구문을 사용하고 싶을 때가 있을 수 있다. 여러 조건을 JSX 안에서 `인라인(inline)`으로 처리할 방법 몇 가지를 더 알아보자!
### 2. 논리 && 연산자로 If를 인라인으로 표현하기

JSX 안에는 중괄호를 이용해서 `표현식을 포함`할 수 있다. 그 안에 JavaScript의 논리 연산자 `&&`을 사용하면 쉽게 엘리먼트를 조건부로 넣을 수 있다.

```jsx
function Mailbox(props) {
	const unreadMessages = props.unreadMessages;
	return (
		<div>
			<h1>Hello!</h1>
			{unreadMessages.length > 0 &&
				<h2>
					You have {unreadMessages.length} unread messages.
				</h2>
			}
		</div>
	);
}
const messages = ['React', 'Re: React', 'Re:Re: React'];
ReactDOM.render(
	<Mailbox unreadMessages={messages} />,
	document.getElementById('root')
);
```

JavaScript에서 `true && expression`은 항상 `expression`으로 평가되고 `false && expression`은 항상 `false`로 평가된다. 

따라서 `&&`뒤의 엘리먼트 조건이 true일 때 출력이 된다. 조건이 false라면, React는 무시하고 건너뛴다.

falsy 표현식을 반환하면 여전히 `&&` 뒤에 있는 표현식은 건너뛰지만 falsy 표현식이 반환된다는 것을 알아두기. 아래 예시에서, `<div>0</div>`이 render 메소드에서 반환된다.

```jsx
render() {
	const count = 0;
	return (
		<div>
			{ count && <h1>Messages: {count}</h1>}
		</div>
	);
}
```